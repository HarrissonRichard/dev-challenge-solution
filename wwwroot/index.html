<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>RestCountriesChallenge</title>
  <base href="/" />
  <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
  <link href="css/app.css" rel="stylesheet" />
  <link href="RestCountriesChallenge.styles.css" rel="stylesheet" />
</head>

<body>
  <div id="app">Loading...</div>

  <div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">ðŸ—™</a>
  </div>
  <script>
    window.downloadFileFromStream = async (fileName, contentStreamReference) => {

      console.log((await contentStreamReference).buffer);
      // const arrayBuffer = await contentStreamReference.arrayBuffer();
      const bff = (await contentStreamReference).buffer
      const blob = new Blob([bff]);
      // const blob = new Blob([arrayBuffer]);
      console.log(blob);
      const url = URL.createObjectURL(blob);
      const anchorElement = document.createElement('a');
      anchorElement.href = url;
      anchorElement.download = fileName ?? '';
      anchorElement.click();
      anchorElement.remove();
      URL.revokeObjectURL(url);













    }
  </script>
  <script src="_framework/blazor.webassembly.js"></script>
</body>

</html>